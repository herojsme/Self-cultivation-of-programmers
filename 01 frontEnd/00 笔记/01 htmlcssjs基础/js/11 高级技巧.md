### 判断属性

```js
  + typeof;
  + instanceOf;
  + Object.prototype.toString.call(obj);
```

### 如何实现异步编程？

```js
+ 回调函数。优点是简单、容易理解和部署；缺点是不利于代码的阅读和维护，各个部分之间高度耦合（ Coupling），流程混乱，而且每个任务只能指定一个回调函数。
+ 事件监听，可以绑定多个事件，每个事件可以指定多个回调函数，而且可以“去耦合”（ Decoupling），有利于实现模块化；
缺点是整个程序都要变成事件驱动型，运行流程会变得很不清晰。
+ 发布/订阅方式。性质与“事件监听”类似，但是明显优于后者。
+ Promise 对象实现， 该对象有一个 then 方法，允许指定回调函数
```

### webWorker wersoket

```js
// fibonacci.js; webWorker
self.onmessage = (e) => {
  const userNum = Number(e.data);
  fibonacci(userNum);
};

function fibonacci(num) {
  let a = 1;
  let b = 0;
  while (num >= 0) {
    [a, b] = [a + b, a];
    num--;
  }

  self.postMessage(b);
}

// 使用的地方
const worker = new Worker("fibonacci.js");

worker.onmessage = (event) => {
  result.textContent = event.data;
  console.log(`Got: ${event.data}`);
};

worker.onerror = (error) => {
  console.log(`Worker error: ${error.message}`);
  throw error;
};

form.onsubmit = (e) => {
  e.preventDefault();
  worker.postMessage(input.value);
  input.value = "";
};

// wersoket
// Create WebSocket connection.
const socket = new WebSocket("ws://localhost:8080");

// Connection opened
socket.addEventListener("open", function (event) {
  socket.send("Hello Server!");
});

// Listen for messages
socket.addEventListener("message", function (event) {
  console.log("Message from server ", event.data);
});
```

### 刷新浏览器缓存

```js
 - location.reload(true)
 - 设置响应头 Cache-control 为 no-cache，
 - Pragma 为 no-cache
 - Expires 过期时间为 0
 - ctrl+shift+del
 - <META HTTP-EQUIV="pragma" CONTENT="no-cache">
 <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
 <META HTTP-EQUIV="expires" CONTENT="0">
 - url后面加随机值
```

### 利用缓存

```js
  - cookie;
  - localstorage;
  - sessionstorage;
  - application cache是离线缓存技术,将大部分的图片、js、css等资源放在mainfest文件配置中，页面打开时通过mainfest文件读取本地文件或请求服务器资源。;
  - Last-Modified（最后修改时间）或ETag ：
    + 服务器设置Last-Modified或ETag；
    + 浏览器收到响应后，将其保存下来；再次请求时，会请求头的If-None-Match:(上次的ETag)，If-Modified-Since：(Last-Modified)
    + 服务器接收后对比资源是否变化，无变化返回 304 ，有变化则更新上述响应头
  - 响应头Cache-Control、Expires

```
